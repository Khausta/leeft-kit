{"version":3,"sources":["main.js"],"names":["validOptions","validatePhone","phone","re","test","String","value","this","addErrorStyle","validateName","inputName","classList","setTimeout","add","element","remove","addPhoneMask","input","IMask","mask","console","allPhoneInputs","log","menuOpenButton","closeMenuButton","document","menuWrapper","i","length","content","nextElementSibling","forEach","item","addEventListener","maxHeight","opacity","querySelectorAll","style","arrow","scrollHeight","window","innerWidth","querySelector","overflow","body","menu","popupForm","popupSuccess","showOverlay","overlay","closePopupHendler","closePopupBtn","successPopup","succesPopupCloseBtn","target","closePopupForm","closeSuccessPopup","removeEventListener","removeOverlay","preventDefault","e","isValid","feedbackSubmitButtons","openFeedbackFormButtons","el","openPopupForm","cards","nameInput","card","popupSubmitButton","phoneInput","showSuccessPopup","parentNode","reset","onanimationend"],"mappings":"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","file":"main.js","sourcesContent":["const validOptions = {\r\n  \r\n  validatePhone(phone) {\r\n    const re = /\\+7\\s\\([0-9]{3}\\)\\s[0-9]{3}-[0-9]{2}-[0-9]{2}/;\r\n    if (!re.test(String(phone.value))) {\r\n      this.addErrorStyle(phone);\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  },\r\n\r\n  validateName(inputName) {\r\n        if (inputName.value === \"\") {\r\n          this.addErrorStyle(inputName);\r\n          return false;\r\n        } \r\n        return true;\r\n  },\r\n\r\n  addErrorStyle(element) {\r\n    element.classList.add('js-error');\r\n    setTimeout(() => {\r\n      element.classList.remove('js-error');\r\n    }, 3000);\r\n  },\r\n\r\n  addPhoneMask(input) {\r\n    new IMask(input, {\r\n      mask: \"+{7} (000) 000-00-00\"\r\n    });\r\n  }\r\n}\r\n\r\nconst allPhoneInputs = document.querySelectorAll('[name=\"phone\"]');\r\nconsole.log(allPhoneInputs);\r\nfor (let i = 0; i < allPhoneInputs.length; i++) {\r\n  validOptions.addPhoneMask(allPhoneInputs[i])\r\n}\r\n \r\n //faq \r\ndocument.querySelectorAll('.faq__question').forEach( item => {\r\n  item.addEventListener('click', () => {\r\n    \r\n    const arrow = item;\r\n    const content = item.nextElementSibling;\r\n\r\n    if (content.style.maxHeight) {\r\n      document.querySelectorAll('.faq__text').forEach( item => {\r\n        item.style.maxHeight = null;\r\n        item.style.opacity = null;\r\n        }) \r\n      document.querySelectorAll('.faq__question').forEach(item => {\r\n        item.classList.remove('_active');\r\n      })\r\n    } else {\r\n      document.querySelectorAll('.faq__text').forEach( item => {\r\n        item.style.maxHeight = null;\r\n        item.style.opacity = null;  \r\n      })\r\n      content.style.maxHeight = content.scrollHeight + 'px';\r\n      content.style.opacity = 1;\r\n      \r\n      document.querySelectorAll('.faq__question').forEach(item => {\r\n        item.classList.remove('_active');\r\n      })\r\n      arrow.classList.add('_active');\r\n    }\r\n  })\r\n})\r\n\r\n\r\n\r\n//menu mobile\r\nif(window.innerWidth < 768) {\r\n  const menuOpenButton = document.querySelector(\".menu-burger\");\r\n  const menu = document.querySelector(\".header__menu\");\r\n  const closeMenuButton = document.querySelector(\".header__close\");\r\n  const menuWrapper = document.querySelector(\".header__wrapper\");\r\n\r\n  menuOpenButton.addEventListener(\"click\", () => {\r\n    document.body.style.overflow = \"hidden\";\r\n    menu.classList.add(\"_active\");\r\n    menuWrapper.classList.add(\"_active\");\r\n  })\r\n\r\n  closeMenuButton.addEventListener(\"click\", () => {\r\n    document.body.style.overflow = \"auto\";\r\n    menu.classList.remove(\"_active\");\r\n    menuWrapper.classList.remove(\"_active\");\r\n  })\r\n}\r\n\r\n//popup\r\nconst overlay = document.querySelector('.overlay');\r\n\r\nconst openFeedbackFormButtons = document.querySelectorAll(\"._js_openFeedBackForm\");\r\nconst closePopupBtn = document.querySelector(\"._js_closePopupForm\");\r\n// const popupOverlay = document.querySelector(\".overlay\");\r\nconst popupForm = document.querySelector(\".popup_feedback\");\r\nconst popupSuccess = document.querySelector(\".popup_success\");\r\nconst successPopup = document.querySelector('._js-popup-success');\r\nconst succesPopupCloseBtn = document.querySelector('._js-popup-success-close-btn');\r\n\r\nopenFeedbackFormButtons.forEach(el => {\r\n  el.addEventListener(\"click\", () => {\r\n    showOverlay();\r\n    openPopupForm();\r\n    overlay.addEventListener(\"click\", closePopupHendler);\r\n\r\n    if (window.innerWidth < 768) {\r\n      document.querySelector(\".header__menu\").classList.remove(\"_active\");\r\n    }\r\n  })\r\n});\r\n\r\nfunction showOverlay() {\r\n  overlay.classList.add('_active');\r\n  document.body.style.overflow = \"hidden\";\r\n}\r\nfunction removeOverlay() {\r\n  overlay.classList.remove('_active');\r\n  document.body.style.overflow = \"visible\";\r\n}\r\n\r\nfunction openPopupForm() {\r\n    popupForm.classList.add('_active');\r\n}\r\n\r\n\r\nfunction closePopupForm() {\r\n  popupForm.classList.remove('_active');\r\n}\r\n\r\nfunction closePopupHendler(e) {\r\nif (e.target === overlay \r\n  || e.target == document.querySelector('._js_closePopupForm_img')\r\n  || e.target == document.querySelector('._js-popup-success-close-btn')) {\r\n  closePopupForm();\r\n  removeOverlay();\r\n  closeSuccessPopup();\r\n  closePopupBtn.removeEventListener(\"click\", closePopupHendler);\r\n  }\r\n}\r\n\r\nfunction closeSuccessPopup() {\r\n  successPopup.classList.remove('_active');\r\n  removeOverlay();\r\n}\r\n\r\nfunction showSuccessPopup() {\r\n  successPopup.classList.add('_active');\r\n  overlay.addEventListener(\"click\", closePopupHendler);\r\n}\r\n\r\nconst popupSubmitButton = document.querySelector('._js_popup-button');\r\npopupSubmitButton.addEventListener(\"click\", e => {\r\n  e.preventDefault();\r\n  let isValid = false;\r\n  validOptions.validateName(popupForm.querySelector('[name=\"name\"]'));\r\n  validOptions.validatePhone(popupForm.querySelector('[name=\"phone\"]'));\r\n  isValid = validOptions.validateName(popupForm.querySelector('[name=\"name\"]')) \r\n            && validOptions.validatePhone(popupForm.querySelector('[name=\"phone\"]'));\r\n  if (isValid) {\r\n    popupForm.querySelector('form').reset();\r\n    closePopupForm();\r\n    showSuccessPopup();\r\n  }\r\n});\r\n\r\n//feedback-block button hendler \r\nconst feedbackSubmitButtons = document.querySelectorAll('._js_feedback-submit-btn');\r\nif (feedbackSubmitButtons.length) {\r\n  feedbackSubmitButtons.forEach(el => {\r\n    el.addEventListener(\"click\", e => {\r\n      e.preventDefault();\r\n      let isValid = false;\r\n      const nameInput = e.target.parentNode.querySelector('[name=\"name\"]');\r\n      const phoneInput = e.target.parentNode.querySelector('[name=\"phone\"]');\r\n\r\n      validOptions.validateName(nameInput);\r\n      validOptions.validatePhone(phoneInput);\r\n      isValid = validOptions.validateName(nameInput) && validOptions.validatePhone(phoneInput);\r\n      if (isValid) {\r\n        showOverlay();\r\n        showSuccessPopup();  \r\n        e.target.parentNode.reset();\r\n      }\r\n    })\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\nif (window.innerWidth > 768) {\r\n  const cards = document.querySelectorAll('.our-business__big-card');\r\n  \r\n  cards.forEach(card => {\r\n    card.addEventListener(\"mouseover\", () => {\r\n      card.classList.add('our-business__big-card_hover');\r\n\r\n      card.addEventListener(\"animationend\", onanimationend);\r\n      function onanimationend() {\r\n        card.classList.remove('our-business__big-card_hover');\r\n        card.removeEventListener(\"animationend\", onanimationend);\r\n      }\r\n    });\r\n\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n"]}